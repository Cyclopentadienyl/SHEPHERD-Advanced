# SHEPHERD-Advanced — v3 deployment config (Linux ARM — NVIDIA DGX Spark, Blackwell GPU)
# Uses cuDNN 9 SDPA / PyTorch SDPA as first choice; FAISS GPU on ARM is avoided.
version: 3
platform:
  os: linux
  arch: aarch64
  machine_name: dgx_spark
  gpu_arch: blackwell
attention_backend:
  prefer: [torch_sdpa, naive]   # flash-attn on ARM: treat as experimental unless verified
  allow_xformers: true
  force_disable_env_var: FLASHATTN_FORCE_DISABLE
retrieval_backend:
  x86: faiss_gpu
  arm: hnswlib
  default: hnswlib
cuda:
  min_version: "13.0"
  recommended: "13.0"
  cudnn: "9"
torch:
  min_version: "2.9.0"
  recommended: "2.9.0"
indexing:
  dim: 768
  metric: "ip"
  hnswlib:
    ef_construction: 400
    M: 48
    ef_search: 128
paths:
  data_root: "data/"
  models_root: "models/"
  logs_root: "logs/"
